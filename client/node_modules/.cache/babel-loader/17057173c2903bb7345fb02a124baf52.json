{"ast":null,"code":"import _regeneratorRuntime from \"/Users/lvn/Desktop/expensetracker-backend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/lvn/Desktop/expensetracker-backend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/lvn/Desktop/expensetracker-backend/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/lvn/Desktop/expensetracker-backend/client/src/context/GlobalState.js\";\n\nimport React, { createContext, useReducer } from 'react';\nimport AppReducer from './AppReducer';\nimport axios from 'axios'; //initialize state\n\nvar initialState = {\n  transactions: []\n}; //create context\n\nexport var GlobalContext = createContext(initialState); //provider components\n\nexport var GlobalProvider = function GlobalProvider(_ref) {\n  var children = _ref.children;\n\n  var _useReducer = useReducer(AppReducer, initialState),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1]; //actions\n\n\n  function getTransactions() {\n    return _getTransactions.apply(this, arguments);\n  }\n\n  function _getTransactions() {\n    _getTransactions = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get('/api/v1/transactions');\n\n            case 3:\n              res = _context.sent;\n              dispatch({\n                type: 'GET_'\n              });\n              _context.next = 9;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n    return _getTransactions.apply(this, arguments);\n  }\n\n  function addTransaction(transaction) {\n    dispatch({\n      type: 'ADD_TRANSACTION',\n      payload: transaction\n    });\n  }\n\n  function deleteTransaction(id) {\n    dispatch({\n      type: 'DELETE_TRANSACTION',\n      payload: id\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(GlobalContext.Provider, {\n    value: {\n      transactions: state.transactions,\n      deleteTransaction: deleteTransaction,\n      addTransaction: addTransaction\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, children);\n};","map":{"version":3,"sources":["/Users/lvn/Desktop/expensetracker-backend/client/src/context/GlobalState.js"],"names":["React","createContext","useReducer","AppReducer","axios","initialState","transactions","GlobalContext","GlobalProvider","children","state","dispatch","getTransactions","get","res","type","addTransaction","transaction","payload","deleteTransaction","id"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,aAAf,EAA8BC,UAA9B,QAA+C,OAA/C;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAIA;;AACA,IAAMC,YAAY,GAAC;AACfC,EAAAA,YAAY,EAAC;AADE,CAAnB,C,CAIA;;AACA,OAAO,IAAMC,aAAa,GAAGN,aAAa,CAACI,YAAD,CAAnC,C,CACP;;AAEA,OAAO,IAAMG,cAAc,GAAE,SAAhBA,cAAgB,OAAgB;AAAA,MAAdC,QAAc,QAAdA,QAAc;;AACzC,oBAA0BP,UAAU,CAACC,UAAD,EAAaE,YAAb,CAApC;AAAA;AAAA,MAAOK,KAAP;AAAA,MAAcC,QAAd,mBADyC,CAGzC;;;AAHyC,WAK1BC,eAL0B;AAAA;AAAA;;AAAA;AAAA,gFAKzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAE0BR,KAAK,CAACS,GAAN,CAAU,sBAAV,CAF1B;;AAAA;AAEcC,cAAAA,GAFd;AAGQH,cAAAA,QAAQ,CAAC;AACLI,gBAAAA,IAAI,EAAE;AADD,eAAD,CAAR;AAHR;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KALyC;AAAA;AAAA;;AAiBzC,WAASC,cAAT,CAAwBC,WAAxB,EAAoC;AAChCN,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAAE,iBADD;AAELG,MAAAA,OAAO,EAAED;AAFJ,KAAD,CAAR;AAIH;;AAED,WAASE,iBAAT,CAA2BC,EAA3B,EAA8B;AAC1BT,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAAE,oBADD;AAELG,MAAAA,OAAO,EAAEE;AAFJ,KAAD,CAAR;AAIH;;AAKD,sBAAQ,oBAAC,aAAD,CAAe,QAAf;AAAwB,IAAA,KAAK,EAAE;AACnCd,MAAAA,YAAY,EAACI,KAAK,CAACJ,YADgB;AAEnCa,MAAAA,iBAAiB,EAAjBA,iBAFmC;AAGnCH,MAAAA,cAAc,EAAdA;AAHmC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAKHP,QALG,CAAR;AAOH,CAzCM","sourcesContent":["import React, {createContext, useReducer} from 'react';\nimport AppReducer from './AppReducer';\nimport axios from 'axios';\n\n\n\n//initialize state\nconst initialState={\n    transactions:[]\n}\n\n//create context\nexport const GlobalContext = createContext(initialState);\n//provider components\n\nexport const GlobalProvider =({children}) => {\n    const [state, dispatch] = useReducer(AppReducer, initialState);\n\n    //actions\n\n    async function getTransactions(){\n        try{\n            const res = await axios.get('/api/v1/transactions');\n            dispatch({\n                type: 'GET_'\n            });\n        }catch (err){\n\n        }\n    }\n\n\n    function addTransaction(transaction){\n        dispatch({\n            type: 'ADD_TRANSACTION',\n            payload: transaction\n        });\n    }\n\n    function deleteTransaction(id){\n        dispatch({\n            type: 'DELETE_TRANSACTION',\n            payload: id\n        });\n    }\n\n\n\n\n    return (<GlobalContext.Provider value={{\n        transactions:state.transactions,\n        deleteTransaction,\n        addTransaction\n    }}>\n        {children}\n    </GlobalContext.Provider>)\n}\n\n"]},"metadata":{},"sourceType":"module"}